inputs:
  response:
    type: string
    default: "\"John Russell Reynolds  (1820–1876) was an English lawyer, judge, and
      author. He was born in London, the son of a barrister, and was educated at
      Eton College and Trinity College, Cambridge. He was called to the bar in
      1845, and became a Queen's Counsel in 1859. He was appointed a judge of
      the Court of Common Pleas in 1867, and was knighted in 1871.\\n\\nReynolds
      was a prolific author, writing on a wide range of topics. He wrote several
      books on legal topics, including The Law of Libel and Slander (1863), The
      Law of Copyright (1865), and The Law of Patents for Inventions (1868). He
      also wrote on a variety of other topics, including history, biography, and
      literature. He was a frequent contributor to the Saturday Review, and
      wrote several books on Shakespeare, including The Mystery of William
      Shakespeare (1848) and The Authorship of Shakespeare (1875). He also wrote
      a biography of the poet John Keats (1848).\""
  context:
    type: string
    default: "\"Sir John Russell Reynolds, 1st Baronet was a British neurologist and
      physician. Reynolds was born in Romsey, Hampshire, as the son of John
      Reynolds, an independent minister, and the grandson of Dr. Henry Revell
      Reynolds. He received general education from his father, and was educated
      in his profession at University College, London, where he obtained three
      gold medals in the medical school. In 1851, he graduated M.B. in the
      University of London, and obtained a scholarship and gold medal in
      medicine. In 1852, he took the degree of M.D., and began practice in
      Leeds. He soon after moved to London, and took a house, 38 Grosvenor
      Street, in which Dr. Marshall Hall had lived. Hall announced to his
      patients in a printed circular that Reynolds had succeeded him in
      practice. Such procedure was contrary to a recognised understanding among
      physicians, and Hall incurred the censure of the College of Physicians.
      Reynolds, who was ignorant of Hall's intention, was in no way responsible
      for the circular, and was in no way involved in the censure. He was duly
      elected a Fellow of the College in 1859. In the same year, he was
      appointed Assistant Physician to University College Hospital, to which he
      continued attached throughout life. He had before been, in 1855, Assistant
      Physician to the Hospital for Sick Children, and in 1857 Assistant
      Physician to the Westminster Hospital. In 1865, he became Professor of the
      Principles and Practice of Medicine at University College, and in 1878 he
      was appointed Physician-in-Ordinary to the Queen's Household. He gained a
      considerable practice as a physician, and was often consulted in difficult
      cases of nervous disease. In 1869, he was elected a Fellow of the Royal
      Society, and in 1883 Vice-President of the Royal Medical and Chirurgical
      Society. He delivered the Lumleian Lecture at the College of Physicians in
      1867, the Harveian Oration in 1884, and was elected President in 1893, on
      the death of Sir Andrew Clark. He was re-elected in 1894 and 1895, and on
      1 January in the latter year was created a Baronet. In the winter of
      1895\\u201396, he became too ill to offer himself for re-election as
      President of the College of Physicians. He died at his house in Grosvenor
      Street, London, after several weeks of illness of a pulmonary congestion,
      on 29 May 1896. He was married, first, to Miss Ainslie, and, secondly, to
      Frances, widow of C. J. C. Crespigny, but left no children. The
      \\\"Reynolds Baronetcy\\\", of Grosvenor Street, was created in the
      Baronetage of the United Kingdom on 28 February 1895 for John Russell
      Reynolds. The title became extinct on his death. Reynolds devoted himself
      from an early period to the study of nervous diseases, and in 1854
      published an \\\"Essay on Vertigo\\\"; in 1855 \\\"Diagnosis of Diseases
      of the Brain, Spinal Cord, and Nerves\\\", as well as \\\"Tables for the
      Diagnosis of Diseases of the Brain\\\"; in 1861 a treatise on epilepsy; in
      1871 \\\"Lectures on the Clinical Uses of Electricity\\\"; in 1872 \\\"The
      Scientific Value of the Legal Tests of Insanity\\\"; besides many papers
      in medical periodicals and the transactions of medical societies, and
      several addresses to medical associations. His writings on nervous
      diseases were useful contributions to a department of medicine in which
      much work remained undone, but in the flood of modern observations they
      have been submerged. He will chiefly be remembered among physicians as the
      editor of the \\\"System of Medicine\\\", in five volumes, published from
      1866 to 1879, a collection of essays on diseases, written by the most
      competent men who could be induced to write \\u2013 compositions of
      varying merit, but generally of high value. He himself wrote the parts on
      erysipelas, on inflammation of the lymphatics, and on several forms of
      nervous disease. He published in 1893 a \\\"Life of Dr. Walter Hayle
      Walshe\\\". Reynolds was a tall man, with dark hair, with a dignified
      delivery and some oratorical power. Reynolds died in London.\""
  samples:
    type: list
    default:
    - >-
      John Russell Reynolds was an English lexicographer, editor and author.
      Born in London, he was the eldest son of the first Lord Ogmore, and was
      educated at Trinity College, Oxford, where he graduated B.A. in 1852 and
      became a Fellow in 1854. He was president of Magdalen Hall from 1864 to
      1884, and from 1864 to 1883 was assistant-editor to the Oxford English
      Dictionary under James Murray. 


      He was a permanent contributor to The Saturday Review, and wrote several books about the House of Commons. He also compiled dictionaries of quotations and biographies and edited collections of newspaper articles. He had a particular interest in the works of Christian mystics, writing studies of the lives and works of Saints Augustine and Thomas à Kempis. For his edition of Thomas à Kempis' "The Imitation of Christ", first published in 1875, he wrote a biographical introduction.
    - >-
      John Russell Reynolds (26 April 1819 – 17 June 1879) was an English poet,
      journalist and government servant. He was born in London and lived most of
      his life in the capital, although he spent a few years in the U.S.A.


      Reynolds began his literary career writing reviews and verses for the Magazine of the British and Foreign Bible Society. In 1840, he was appointed as a commissioner in the Department of Woods and Forests and was later promoted to Secretary of the Office of Works in 1867.


      He wrote translations of Virgil's Eclogues and Georgics, and subsequently wrote a number of poems for various periodicals. His most famous poem is probably The Forsaken Merman, in which he expresses sympathy for the fate of a mermaid who is forced to leave her Sea-King home.


      Reynolds also published a long narrative poem, The Young Shepherds of Arcady, in 1851 and composed other poem collections such as The Holy Year in Poetry, The Poetical Remains of John Russel Reynolds and The Choicest Songs of John Russel
    - John Russell Reynolds (1820-1876) was an English lawyer, author, political
      theorist, and civil servant. He is widely known for his contributions to
      English jurisprudence, was the author of many books and pamphlets,
      especially in constitutional law, and is often credited as the father of
      codified English common law. Reynolds was born in London on 21 June 1820,
      the son of John Reynolds, a clerk in the Exchequer, and his wife Anna
      Pollock. He was educated at Dean Close School, and then at St. Edmund
      Hall, Oxford, from which he graduated BA in 1842; he was called to the bar
      at Lincoln's Inn in 1849. He was a member of the Royal Commission for the
      Revision of the Criminal Law, and with the help of his father drafted the
      Criminal Law Consolidation Acts of 1861 and 1864. He was legal member of
      the Indian Council from 1870 to 1876 and published his principle works,
      The Institutes of the Laws of England in 1869, and followed it up with The
      Laws of England in 1871, which is still consulted today. His influence on
      British law
    - >-
      John Russell Reynolds (1817 – 1879) was a British lawyer, translator and
      classical scholar. He was a contemporary of, and may have been influenced
      by, the Philhellenist Richard Payne Knight.


      Reynolds was born in London, where he was educated at Westminster School. He then studied the classics at Queen's College, Oxford, graduating in 1839. He was called to the bar of the Inner Temple in 1843.


      Reynolds became a popular translator from ancient Greek and Latin, often using creative license to give the English translation poetic flourish. Among the works he translated are Theocritus in 1845 and the Treatise on Oratory by the Roman rhetorician Quintilian in 1856.


      Reynolds was also a lawyer and Fellow of the Royal Society and published many other works. He was appointed Reader in Poetry at Oxford in 1861 and predeceased his father, Sir John Richardson Reynolds. He was buried in the North Cemetery of Oxford.
    - >-
      John Russell Reynolds (3 August 1827 – 6 March 1876) was an English
      barrister, judge, legal writer and the first editor of The Law Times. He
      was the fifth child and eldest son of Kemble Reynolds, a prominent member
      of the London Stock Exchange.


      Reynolds was educated at Harrow School before being called to the Bar at Lincoln's Inn in 1849. He went on to become a conveyancer, and selected as the first editor of The Law Times. He became a Queen's Counsel in 1866 and was appointed to the Common Pleas Division of the High Court of Justice in 1868. 


      Reynolds was highly respected as a jurist and he is regarded as one of the most important legal writers of the 19th century. He wrote several books and articles on a variety of topics, including real property, private international law, and equity. He was also a prolific contributor to legal journals, and edited several editions of Hargrave's Law of Nations. He is credited with writing the authoritative work on trusts and estates, the Treatise on the Law of Trusts, which has remained
  response_sentences:
    type: list
    default:
    - John Russell Reynolds (1820–1876) was an English lawyer, judge, and author.
    - He was born in London, the son of a barrister, and was educated at Eton
      College and Trinity College, Cambridge.
    - He was called to the bar in 1845, and became a Queen's Counsel in 1859.
    - He was appointed a judge of the Court of Common Pleas in 1867, and was
      knighted in 1871.
    - Reynolds was a prolific author, writing on a wide range of topics.
    - He wrote several books on legal topics, including The Law of Libel and
      Slander (1863), The Law of Copyright (1865), and The Law of Patents for
      Inventions (1868).
    - He also wrote on a variety of other topics, including history, biography,
      and literature.
    - He was a frequent contributor to the Saturday Review, and wrote several
      books on Shakespeare, including The Mystery of William Shakespeare (1848)
      and The Authorship of Shakespeare (1875).
    - He also wrote a biography of the poet John Keats (1848).
  human_label:
    type: int
    default: 1
outputs:
  output:
    type: string
    reference: ${concat_scores.output}
nodes:
- name: hhem
  type: python
  source:
    type: code
    path: ../../components/hhem.py
  inputs:
    context: ${inputs.context}
    response: ${inputs.response}
- name: chainpoll1
  type: llm
  source:
    type: code
    path: ../../components/chain_poll_prompt.jinja2
  inputs:
    deployment_name: aoai-gpt4
    max_tokens: 10
    context: ${inputs.context}
    response: ${inputs.response}
  connection: aoai-connection
  api: chat
- name: chainpoll2
  type: llm
  source:
    type: code
    path: ../../components/chain_poll_prompt.jinja2
  inputs:
    deployment_name: aoai-gpt4
    max_tokens: 10
    context: ${inputs.context}
    response: ${inputs.response}
  connection: aoai-connection
  api: chat
- name: chainpoll3
  type: llm
  source:
    type: code
    path: ../../components/chain_poll_prompt.jinja2
  inputs:
    deployment_name: aoai-gpt4
    max_tokens: 10
    context: ${inputs.context}
    response: ${inputs.response}
  connection: aoai-connection
  api: chat
- name: process_chainpoll
  type: python
  source:
    type: code
    path: ../../components/chain_poll_post_process.py
  inputs:
    cp1: ${chainpoll1.output}
    cp2: ${chainpoll2.output}
    cp3: ${chainpoll3.output}
- name: nli_contradiction
  type: python
  source:
    type: code
    path: ../../components/selfcheck_nli.py
  inputs:
    sentences: ${inputs.response_sentences}
    samples: ${inputs.samples}
- name: cot_consistency
  type: llm
  source:
    type: code
    path: ../../components/cot_consistency.jinja2
  inputs:
    deployment_name: aoai-gpt4
    max_tokens: 10
    response: ${inputs.response}
    samples: ${inputs.samples}
  connection: aoai-connection
  api: chat
- name: process_cot_consistency
  type: python
  source:
    type: code
    path: ../../components/cot_consistency_post_process.py
  inputs:
    cot_result: ${cot_consistency.output}
- name: concat_scores
  type: python
  source:
    type: code
    path: concat_scores.py
  inputs:
    context: ${inputs.context}
    response: ${inputs.response}
    samples: ${inputs.samples}
    human_label: ${inputs.human_label}
    hhem_score: ${hhem.output}
    consistency_score: ${process_cot_consistency.output}
    chain_poll_score: ${process_chainpoll.output}
    nli_score: ${nli_contradiction.output}
- name: write_results
  type: python
  source:
    type: code
    path: write_results.py
  inputs:
    results: ${concat_scores.output}
  aggregation: true
